(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["unauth-UnauthCloseupRelatedContent"],{Pw4u:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("+ZRO"),a=n("yweb"),s=n("n6mq"),r=n("nKUr");function o({interests:e,titleSize:t}){const n=Object(a.c)();return Object(r.jsxs)(s.f,{display:"flex",direction:"column",padding:1,marginTop:4,marginBottom:4,children:[Object(r.jsx)(s.f,{marginBottom:2,children:Object(r.jsx)(s.cb,{size:t,weight:"bold",align:"center",children:n._("Similar ideas popular now","Title of suggesting related topics module in the pin feeds.","unauth.relatedPins.suggested_ideas")})}),e.map((e,t)=>Object(r.jsx)(i.a,{interest:e,shouldWrapText:!0},t))]})}},PyyJ:function(e,t,n){n.r(t),n.d(t,"getUnauthCloseupFeedResourceOptions",(function(){return j}));var i=n("q1tI"),a=n("7w6Q"),s=n("uJ3H"),r=n("g6r8"),o=n("n6mq"),l=n("QAzJ"),d=n("pLLR"),c=n("0HhX"),u=n("yweb"),p=n("EC67"),h=n("nKUr");const _=({type:e})=>{const t=Object(u.c)(),n=Object(p.h)(),i=Object(r.a)(),s=()=>{n.push("/login"),a.a.increment("unauth_end_of_related_pins_upsell.login.tap",.1,{deviceType:i})},l=()=>{n.push("/signup"),a.a.increment("unauth_end_of_related_pins_upsell.signup.tap",.1,{deviceType:i})};switch(e){case"login":return Object(h.jsx)(o.f,{minWidth:130,children:Object(h.jsx)(o.g,{fullWidth:!0,color:"red",size:"lg",text:t._("Log in","unauth.closeup.end_of_related_pins_upsell.cta","Button for the user to log in"),onClick:s})});case"signup":return Object(h.jsx)(o.f,{minWidth:130,children:Object(h.jsx)(o.g,{fullWidth:!0,color:"red",size:"lg",text:t._("Sign up","unauth.closeup.end_of_related_pins_upsell.cta","Button for the user to sign up"),onClick:l})});default:return Object(h.jsxs)(o.h,{children:[Object(h.jsx)(o.g,{size:"lg",text:t._("Log in","unauth.closeup.end_of_related_pins_upsell.cta","Button for the user to log in"),onClick:s}),Object(h.jsx)(o.g,{size:"lg",color:"red",text:t._("Sign up","unauth.closeup.end_of_related_pins_upsell.cta","Button for the user to sign up"),onClick:l})]})}};function b({type:e}){const t=Object(u.c)(),n=Object(r.a)();return Object(i.useEffect)(()=>{a.a.increment("unauth_end_of_related_pins_upsell.rendered",.1,{deviceType:n})},[n]),Object(h.jsxs)(o.f,{display:"flex",direction:"column",alignItems:"center",paddingY:8,children:[Object(h.jsx)(o.f,{maxWidth:270,marginBottom:4,children:Object(h.jsx)(o.v,{size:"sm",align:"center",children:"login"===e?t._("Explore unlimited ideas with your Pinterest account","unauth.closeup.end_of_related_pins_upsell.heading","Heading shown after user has scrolled through all related Pins and is shown a Login button"):t._("Explore unlimited ideas with a free account","unauth.closeup.end_of_related_pins_upsell.heading","Heading shown after user has scrolled through all related Pins and is shown Signup and Login buttons")})}),Object(h.jsx)(_,{type:e})]})}const j=({isBot:e,pinId:t,shouldOverfetch:n,showSeoMetadata:i,topLevelTrafficSource:a,topLevelTrafficSourceDepth:s,trafficSource:r})=>({field_set_key:n?"grid_item_duplo_unauth_desktop":"unauth_react",page_size:e?25:12,pin:t,prepend:!1,add_vase:!0,search_query:void 0,show_seo_canonical_pins:i||void 0,source:r,top_level_source:a,top_level_source_depth:s});t.default=e=>{const{hideMainPin:t,mainPinImageIsExpanded:n,onRelatedPinsTitleEnter:u,onRelatedPinsTitleExit:p,pin:_,relatedPinsTitleRef:f,setShouldExpandCollapsablePin:g,showSeoMetadata:O,topLevelTrafficSource:x,topLevelTrafficSourceDepth:m,trafficSource:P}=e,{isBot:w}=Object(d.d)(),S=Object(r.a)(),v=Object(l.a)("unauth_dweb_pin_page_related_pins_no_overfetching"),y=Object(c.b)({name:"RelatedPinFeedResource",options:j({isBot:w,pinId:_.id,shouldOverfetch:"desktop"===S&&!w&&!v().anyEnabled,showSeoMetadata:O,topLevelTrafficSource:x,topLevelTrafficSourceDepth:m,trafficSource:P})}),{isAtEnd:E}=y;(e=>{const t=Object(i.useRef)(!1),n=Object(r.a)();Object(i.useEffect)(()=>{!t.current&&e&&(a.a.incrementNow("unauth_closeup_related_pins.resource_reached_end",1,{deviceType:n}),t.current=!0)},[e,n])})(E);const T=(({isEligible:e})=>{const t=Object(l.a)("mweb_unauth_end_of_related_pins_upsell");if(!e)return null;switch(t().group){case"enabled_login_and_signup":return"both";case"enabled_login_only":return"login";case"enabled_signup_only":return"signup";default:return null}})({isEligible:E&&"phone"===S});return Object(h.jsxs)(o.f,{children:[Object(h.jsx)(s.a,{hideMainPin:t,mainPinImageIsExpanded:n,onRelatedPinsTitleEnter:u,onRelatedPinsTitleExit:p,pin:_,relatedPinsTitleRef:f,setShouldExpandCollapsablePin:g,showSeoMetadata:O,resourceFetchState:y}),!!T&&Object(h.jsx)(b,{type:T})]})}},uJ3H:function(e,t,n){n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return y}));var i=n("q1tI"),a=n("/MKj"),s=n("ie/H"),r=n("Pw4u"),o=(n("juJw"),n("yweb")),l=n("n6mq"),d=n("nKUr");var c=n("qcoM"),u=n("/A17"),p=n("g6r8");var h=({header:e,feed:t,storyModules:n,mainPinImageIsExpanded:a,onRelatedPinsTitleEnter:s,onRelatedPinsTitleExit:r,relatedPinsTitleRef:o,setShouldExpandCollapsablePin:h})=>{const[_,b]=Object(i.useState)(!1),j=Object(i.useCallback)(()=>{b(!0),h(!0)},[h]),f=Object(p.b)(),g=f?2:void 0;return Object(d.jsxs)(i.Fragment,{children:[Object(d.jsx)(l.f,{height:f?32:0}),_||a?Object(d.jsxs)(l.f,{paddingX:g,"data-layout-shift-boundary-id":"UnauthRelatedPinsWithoutDrawer","data-test-id":"related-pins-without-drawer",children:[n,Object(d.jsx)(l.f,{ref:o,children:Object(d.jsx)(u.a,{onEnter:s,onExit:r,children:e})}),t]}):Object(d.jsx)(c.b,{hideDrawer:j,children:Object(d.jsxs)(l.f,{paddingX:g,children:[e,t]})})]})},_=n("hFTz"),b=n("SvRC"),j=n("EfoL"),f=n("zRck"),g=n("QAzJ"),O=n("HhTz"),x=n("pTLB");const m={id:"interestLinks",type:"interestLinks"},P=(e,t)=>({item:m,content:Object(d.jsx)(r.a,{interests:e,titleSize:t?"md":"sm"}),position:10}),w=({pin:e,showSeoMetadata:t,resourceFetchState:n})=>{var a,s;const r=Object(p.b)(),[o,l]=Object(i.useState)(0),c=Object(x.b)(),u=null==c?void 0:c.showSignupModal,h=(null===(a=e.pin_join)||void 0===a||null===(s=a.seo_related_interests)||void 0===s?void 0:s.slice(0,5))||[];return Object(d.jsx)(b.a,{breakIn:h&&h.length>0?P(h,r):void 0,feedKey:"related-pins:"+e.id,trafficSource:"pin",resourceFetchState:n,feedItemProps:{componentType:13007,objectIdStr:e.id,viewData:{pin_id:e.id},viewParameter:Object(j.f)(e),viewType:3,showSeoMetadata:t,onPinLinkClick:u?e=>{o>2?(e&&e.preventDefault(),u("signup",{source:"saveButton",container:f.e}),l(1)):l(o+1)}:void 0},serverRender:!0})},S=({hideMainPin:e})=>{const t=Object(o.c)();return e?t._("More ideas","mobilePinPage.relatedPins.title","On mobile web pin page, title for related pins"):t._("More like this","mobilePinPage.relatedPins.title","On mobile web pin page, title for related pins beneath pin closeup")},v=({storyId:e})=>{const t=Object(a.useSelector)(({stories:t})=>t[e]),{story_type:n,title:i}=t;return n.startsWith("SKIN_TONE_FILTER_QUERIES")?Object(d.jsx)(l.f,{marginBottom:8,children:Object(d.jsx)(s.a,{title:i})},"related-module-"+e):null};function y({hideMainPin:e,mainPinImageIsExpanded:t,onRelatedPinsTitleEnter:n,onRelatedPinsTitleExit:i,pin:s,relatedPinsTitleRef:r,setShouldExpandCollapsablePin:o,showSeoMetadata:c,resourceFetchState:u}){const{clientTrackingParams:p,viewParameter:b}=Object(O.b)(),j=Object(a.useSelector)(({feeds:e})=>e["related-pins:"+s.id]),{group:f=""}=Object(g.a)("ag_skin_tone_filter_search_queries_on_p2p_mweb_unauth")({dangerouslySkipActivation:!0});return Object(d.jsx)(h,{header:Object(d.jsx)(l.f,{justifyContent:"center",display:"flex",paddingY:4,id:"relatedPins","data-test-id":"related-pins-header",children:Object(d.jsx)(l.v,{size:"sm",accessibilityLevel:2,children:Object(d.jsx)(S,{hideMainPin:e})})}),storyModules:f.startsWith("enabled")?(Array.isArray(j)?j:[]).filter(({type:e})=>"story"===e).slice(0,1).map(({id:e})=>Object(d.jsx)(v,{storyId:e},"story-module-"+e)):null,feed:Object(d.jsx)(_.a,{viewParameter:b,component:86,clientTrackingParams:p,children:Object(d.jsx)(l.f,{"data-test-id":"relatedPins",children:Object(d.jsx)(w,{pin:s,showSeoMetadata:c,resourceFetchState:u})})}),mainPinImageIsExpanded:t,onRelatedPinsTitleEnter:n,onRelatedPinsTitleExit:i,relatedPinsTitleRef:r,setShouldExpandCollapsablePin:o})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/unauth-UnauthCloseupRelatedContent-c1b6e67d5d815eebd5ca.mjs.map